# C语言学习基础

[TOC]

## 简介 

11972**年，闲来无事的**D.M.Ritchie**觉得很无聊，在一个闲情雅致的下午，**D.M.Ritchie**决定对**B语言**进行改造。于是产生了C语言。**C语言**并不是为了和A、B语言排队而命名，而是取自**BCPL语言的第二个字母**。C语言一诞生，便迫不及待的用C语言重写了UNIX系统。并且，在设计期间，考虑将UNIX兼容到各种机器上，也奠定** **C语言成为第一个可移植的语言**。

怎么想怎么气,  人家觉的无聊都能写出来C语言, 我无聊只能在家睡大觉

## C 程序结构

```c
#include <stdio.h>
 
int main()
{
   /* 我的第一个 C 程序 */
   printf("Hello, World! \n");
   
   return 0;
}
```

接下来我们讲解一下上面这段程序：

1. 程序的第一行 *#include * 是预处理器指令，告诉 C 编译器在实际编译之前要包含 stdio.h 文件。
2. 下一行 *int main()* 是主函数，程序从这里开始执行。
3. 下一行 /*...*/ 将会被编译器忽略，这里放置程序的注释内容。它们被称为程序的注释。
4. 下一行 *printf(...)* 是 C 中另一个可用的函数，会在屏幕上显示消息 "Hello, World!"。
5. 下一行 **return 0;** 终止 main() 函数，并返回值 0。

stdio.h 

包含头文件的意思。[stdio.h](https://www.baidu.com/s?wd=stdio.h&tn=SE_PcZhidaonwhc_ngpagmjz&rsv_dl=gh_pc_zhidao)是C语言的一个头文件，里面有很多定义好的函数，你使用这条语句，一些函数就可以不用再写了，直接用，例如scanf，printf这些都包含在这个头文件里，你使用了这条语句，就可以直接用这些函数

### 编译 & 执行 C 程序

接下来让我们看看如何把源代码保存在一个文件中，以及如何编译并运行它。下面是简单的步骤：

1. 打开一个文本编辑器，添加上述代码。
2. 保存文件为 *hello.c*。
3. 打开命令提示符，进入到保存文件所在的目录。
4. 键入 *gcc hello.c*，输入回车，编译代码。
5. 如果代码中没有错误，命令提示符会跳到下一行，并生成 *a.out* 可执行文件。
6. 现在，键入 *a.out* 来执行程序。
7. 您可以看到屏幕上显示 *"Hello World"*。

```vim
$ gcc hello.c
$ ./a.out
Hello, World!
```

请确保您的路径中已包含 gcc 编译器，并确保在包含源文件 hello.c 的目录中运行它。

如果是多个 c 代码的源码文件，编译方法如下：

```
$ gcc test1.c test2.c -o main.out
$ ./main.out
```

test1.c 与 test2.c 是两个源代码文件。

## C 语言基本语法

### C 的令牌

Ｃ 程序由各种令牌组成, 令牌可以是关键字、 标识符 、 常量 、 字符串值, 或者是一个符号

`printf("Hello, World! \n");`

这五个令牌分别是 :

```
printf
(
"Hellow,Word/n"
)
;
```

### 分号

C 程序中, 分号是语句结束符 , 每个语句必须以分号结束。 它表明一个逻辑实体的结束

```
printf("Hellow,Word!/n");
return 0;
```

这是两个不同的语句

### 注释*

```c
// 单行注释
```

以 `//` 开始的单行注释, 这种注释可以独占一行

```c
/*单行注释*/
/*
多行注释
多行注释
多行注释
*/
```

`/**/ `  这种格式的注释可以单行也可以多行, 不能在注释内部嵌套注释,  **注释也不能出现在字符串或字符值中**

### 标识符 

C 标识符是用来标记变量 、 函数, 或者其他用户自定义项目的名称, 一个表示以字母A-Z或a-z或下划线`_`开始, 后面跟零个或多个字母、下划线和数字(0-9)

C 表示中不允许出现标点符号, 比如 @ $ % & 。 C是**区分大小写** 的编程语言

### 关键字

下表列出了 C 中的保留字。这些保留字不能作为常量名、变量名或其他标识符名称。

 关键字 | 说明 
 ------ | ---- 
 auto   |      声明自动变量
break|跳出当前循环
case|开关语句分支
char|声明字符型变量或函数返回值类型
const|声明只读变量
continue|跳出当前循环, 开始下一轮循环
default| 开关语句中的"其他"分支
do|循环语句的循环体
double| 声明双精度浮点型变量或函数返回值类型
else|条件语句否定分支  (与if 连着用)
enum|声明枚举类型
extern |声明变量或函数是在其他文件或本文件的其他位置定义
float|声明浮点型变量或函数返回值类型
for|一种循环语句
goto|无条件跳转语句
if|条件语句
int|声明整数变量或函数
long|声明长整形变量或函数返回值类型
register|声明寄存器变量
return	|子程序返回语句（可以带参数，也可不带参数）
short|	声明短整型变量或函数
signed	|声明有符号类型变量或函数
sizeof	|计算数据类型或变量长度（即所占字节数）
static|	声明静态变量
struct|	声明结构体类型
switch	|用于开关语句
typedef|	用以给数据类型取别名
unsigned|	声明无符号类型变量或函数
union	|声明共用体类型
void|	声明函数无返回值或无参数，声明无类型指针
volatile|	说明变量在程序执行中可被隐含地改变
while|	循环语句的循环条件

### C 中的空格

只包含空格的行, 被称为空白行, 可能带有注释  C编译器会完全忽略它。
在C 中, 空格用于描述空白符、 制表符 、 换行符和注释 。 空格分隔句的各个部分, 让编译器能识别语句中某个元素在哪里结束, 下一个元素在哪里开始
` int age; `     ` fruit = apples + oranges;   // 获取水果的总数 `

## C 数据类型

在 C 语言中, 数据类型指的是用于声明不同类型的变量或函数的一个广泛的系统, 变量的类型决定了变量存储占用的空间, 以及如何解决存储的位模式 。

类型|描述
---|---
**基本类型** |它们是算数类型, 包括两种类型: 整数类型和浮点类型
**枚举类型** |它们也是算式类型, 被用来定义在程序中只能赋予一定的离散整数的变量
**void类型** | 类型说明符 `void` 表明没有可用的值
**派生类型** |它们包括: 指针类型 、 数组类型 、 结构类型 、共用体类型和函数类型

数组类型和结构类型统称为聚合类型  函数的类型指的是函数返回值的类型 

类型|储存大小|值范围
---|---|---
char|1字节|-128到127 或 0-255
unsigned char |1字节|0-255
signed char | 1字节 | -128 到 127
int |2或4字| -32,768 到 32,767 或 -2,147,483,648 到 2,147,483,647
unsigned int|	2 或 4 字节|	0 到 65,535 或 0 到 4,294,967,295
short	|2 字节|	-32,768 到 32,767
unsigned short|	2 字节|	0 到 65,535
long	|4 字节|	-2,147,483,648 到 2,147,483,647
unsigned long	|4 字节|	0 到 4,294,967,295



### 基本类型书写

**整数**



-  a，默认为10进制 ，10 ，20。
-  b，以0开头为8进制，045，021。
-  c.，以0b开头为2进制，0b11101101。
-  d，以0x开头为16进制，0x21458adf。

**小数**

单精度常量：2.3f 。

双精度常量：2.3，默认为双精度。

**字符型常量**

用英文单引号括起来，只保存一个字符'a'、'b' 、'*' ，还有转义字符 '\n' 、'\t'。

**字符串常量**

用英文的双引号引起来 可以保存多个字符："abc"。

常用基本数据类型占用空间（64位机器为例）

- char ： 1个字节
-  int ：4个字节
-  float：4个字节
-  double：8个字节

![](https://www.runoob.com/wp-content/uploads/2014/09/32-64.jpg)

```c
#include<stdio.h>
#include<limits.h>

int main()
{
printf("int 储存大小 : %lu\n", sizeof(int));

return 0;
}
```

**%lu** 为 32 位无符号整数，详细说明查看 [C 库函数 - printf()](https://www.runoob.com/cprogramming/c-function-printf.html) 。

在编译器上执行上面的程序时 产生 `int 存储大小 : 4`   

### 浮点类型

下表列出了关于标准浮点类型的存储大小、值范围和精度的细节：

| 类型        | 存储大小 | 值范围                 | 精度      |
| :---------- | :------- | :--------------------- | :-------- |
| float       | 4 字节   | 1.2E-38 到 3.4E+38     | 6 位小数  |
| double      | 8 字节   | 2.3E-308 到 1.7E+308   | 15 位小数 |
| long double | 16 字节  | 3.4E-4932 到 1.1E+4932 | 19 位小数 |



头文件 float.h 定义了宏，在程序中可以使用这些值和其他有关实数二进制表示的细节。下面的实例将输出浮点类型占用的存储空间以及它的范围值：

```c
#include<stdio.h>
#include<float.h>

int main()
{
printf("float 存储最大字节数 : %lu \n", sizeof(float));
printf("float 最小值 : %E \n", FLT_MIN);
printf("float 最大值 : %E\n , FLT_MAX");
printf("float 精度值 : %d\n", FLT_DIG);

return 0;
}
```

float 存储最大字节数 : 4 
float 最小值 : 1.175494E-38 
float 最大值 : 3.402823E+38 
float 精度值 : 6 

### void 类型

void 类型指定没有可用的值。它通常用于以下三种情况下：

| 序号 | 类型与描述                                                   |
| :--- | :----------------------------------------------------------- |
| 1    | **函数返回为空** C 中有各种函数都不返回值，或者您可以说它们返回空。不返回值的函数的返回类型为空。例如 **void exit (int status);** |
| 2    | **函数参数为空** C 中有各种函数不接受任何参数。不带参数的函数可以接受一个 void。例如 **int rand(void);** |
| 3    | **指针指向 void** 类型为 void * 的指针代表对象的地址，而不是类型。例如，内存分配函数 **void \*malloc( size_t size );** 返回指向 void 的指针，可以转换为任何数据类型。 |

